
> @stackquotes/api@0.1.0 dev C:\Dev\Projects\stackquotes\apps\api
> tsx watch src/index.ts

[dotenv@17.2.3] injecting env (9) from ..\..\.env -- tip: âœ… audit secrets and track compliance: https://dotenvx.com/ops
âœ… Loaded .env from: C:\Dev\Projects\stackquotes\.env
âœ… SUPABASE_URL: https://jtmxuquifxlxthftoldf.supabase.co
ğŸš€ StackQuotes API running on http://localhost:8787
{
  code: 'PGRST204',
  details: null,
  hint: null,
  message: "Could not find the 'accent_color' column of 'user_settings' in the schema cache"
}
Failed to extract accent color from logo TypeError: swatch?.getHex is not a function
    at extractAccentFromLogo (C:\Dev\Projects\stackquotes\apps\api\src\lib\brand.ts:93:20)
    at async buildBrandTheme (C:\Dev\Projects\stackquotes\apps\api\src\lib\brand.ts:102:26)
    at async generateEstimatePdf (C:\Dev\Projects\stackquotes\apps\api\src\lib\pdf.ts:600:17)
    at async <anonymous> (C:\Dev\Projects\stackquotes\apps\api\src\routes\pdf.ts:33:20)
    at async dispatch (file:///C:/Dev/Projects/stackquotes/node_modules/.pnpm/hono@4.9.10/node_modules/hono/dist/compose.js:22:17)
    at async <anonymous> (C:\Dev\Projects\stackquotes\apps\api\src\index.ts:55:5)
    at async dispatch (file:///C:/Dev/Projects/stackquotes/node_modules/.pnpm/hono@4.9.10/node_modules/hono/dist/compose.js:22:17)
    at async cors2 (file:///C:/Dev/Projects/stackquotes/node_modules/.pnpm/hono@4.9.10/node_modules/hono/dist/middleware/cors/index.js:84:5)
    at async dispatch (file:///C:/Dev/Projects/stackquotes/node_modules/.pnpm/hono@4.9.10/node_modules/hono/dist/compose.js:22:17)
    at async file:///C:/Dev/Projects/stackquotes/node_modules/.pnpm/hono@4.9.10/node_modules/hono/dist/hono-base.js:201:25
Failed to extract accent color from logo TypeError: swatch?.getHex is not a function
    at extractAccentFromLogo (C:\Dev\Projects\stackquotes\apps\api\src\lib\brand.ts:93:20)
    at async buildBrandTheme (C:\Dev\Projects\stackquotes\apps\api\src\lib\brand.ts:102:26)
    at async renderEstimateEmail (C:\Dev\Projects\stackquotes\apps\api\src\lib\templates\email.ts:370:17)
    at async <anonymous> (C:\Dev\Projects\stackquotes\apps\api\src\routes\email.ts:53:20)
    at async dispatch (file:///C:/Dev/Projects/stackquotes/node_modules/.pnpm/hono@4.9.10/node_modules/hono/dist/compose.js:22:17)
    at async <anonymous> (C:\Dev\Projects\stackquotes\apps\api\src\index.ts:55:5)
    at async dispatch (file:///C:/Dev/Projects/stackquotes/node_modules/.pnpm/hono@4.9.10/node_modules/hono/dist/compose.js:22:17)
    at async cors2 (file:///C:/Dev/Projects/stackquotes/node_modules/.pnpm/hono@4.9.10/node_modules/hono/dist/middleware/cors/index.js:84:5)
    at async dispatch (file:///C:/Dev/Projects/stackquotes/node_modules/.pnpm/hono@4.9.10/node_modules/hono/dist/compose.js:22:17)
    at async file:///C:/Dev/Projects/stackquotes/node_modules/.pnpm/hono@4.9.10/node_modules/hono/dist/hono-base.js:201:25
4:32:06 PM [tsx] change in ./src\lib\brand.ts Restarting...
c[dotenv@17.2.3] injecting env (9) from ..\..\.env -- tip: ğŸ” prevent committing .env to code: https://dotenvx.com/precommit
âœ… Loaded .env from: C:\Dev\Projects\stackquotes\.env
âœ… SUPABASE_URL: https://jtmxuquifxlxthftoldf.supabase.co
ğŸš€ StackQuotes API running on http://localhost:8787
4:32:32 PM [tsx] change in ./src\lib\pdf.ts Restarting...
c[dotenv@17.2.3] injecting env (9) from ..\..\.env -- tip: âš™ï¸  write to custom object with { processEnv: myObject }
âœ… Loaded .env from: C:\Dev\Projects\stackquotes\.env
âœ… SUPABASE_URL: https://jtmxuquifxlxthftoldf.supabase.co
ğŸš€ StackQuotes API running on http://localhost:8787
4:32:42 PM [tsx] change in ./src\lib\pdf.ts Restarting...
c[dotenv@17.2.3] injecting env (9) from ..\..\.env -- tip: ğŸ” prevent building .env in docker: https://dotenvx.com/prebuild
âœ… Loaded .env from: C:\Dev\Projects\stackquotes\.env
âœ… SUPABASE_URL: https://jtmxuquifxlxthftoldf.supabase.co
ğŸš€ StackQuotes API running on http://localhost:8787
4:32:47 PM [tsx] change in ./src\lib\pdf.ts Restarting...
c[dotenv@17.2.3] injecting env (9) from ..\..\.env -- tip: ğŸ› ï¸  run anywhere with `dotenvx run -- yourcommand`
âœ… Loaded .env from: C:\Dev\Projects\stackquotes\.env
âœ… SUPABASE_URL: https://jtmxuquifxlxthftoldf.supabase.co
ğŸš€ StackQuotes API running on http://localhost:8787
4:32:55 PM [tsx] change in ./src\lib\pdf.ts Restarting...
c[dotenv@17.2.3] injecting env (9) from ..\..\.env -- tip: âš™ï¸  write to custom object with { processEnv: myObject }
âœ… Loaded .env from: C:\Dev\Projects\stackquotes\.env
âœ… SUPABASE_URL: https://jtmxuquifxlxthftoldf.supabase.co
ğŸš€ StackQuotes API running on http://localhost:8787
4:32:59 PM [tsx] change in ./src\lib\pdf.ts Restarting...
c[dotenv@17.2.3] injecting env (9) from ..\..\.env -- tip: âš™ï¸  write to custom object with { processEnv: myObject }
âœ… Loaded .env from: C:\Dev\Projects\stackquotes\.env
âœ… SUPABASE_URL: https://jtmxuquifxlxthftoldf.supabase.co
ğŸš€ StackQuotes API running on http://localhost:8787
4:33:06 PM [tsx] change in ./src\lib\pdf.ts Restarting...
c[dotenv@17.2.3] injecting env (9) from ..\..\.env -- tip: ğŸ”‘ add access controls to secrets: https://dotenvx.com/ops
âœ… Loaded .env from: C:\Dev\Projects\stackquotes\.env
âœ… SUPABASE_URL: https://jtmxuquifxlxthftoldf.supabase.co
ğŸš€ StackQuotes API running on http://localhost:8787
4:33:28 PM [tsx] change in ./src\lib\pdf.ts Restarting...
c[dotenv@17.2.3] injecting env (9) from ..\..\.env -- tip: ğŸ”„ add secrets lifecycle management: https://dotenvx.com/ops
âœ… Loaded .env from: C:\Dev\Projects\stackquotes\.env
âœ… SUPABASE_URL: https://jtmxuquifxlxthftoldf.supabase.co
ğŸš€ StackQuotes API running on http://localhost:8787
4:37:05 PM [tsx] change in ./src\routes\email.ts Restarting...
c[dotenv@17.2.3] injecting env (9) from ..\..\.env -- tip: âš™ï¸  suppress all logs with { quiet: true }
âœ… Loaded .env from: C:\Dev\Projects\stackquotes\.env
âœ… SUPABASE_URL: https://jtmxuquifxlxthftoldf.supabase.co
ğŸš€ StackQuotes API running on http://localhost:8787
4:37:28 PM [tsx] change in ./src\routes\email.ts Restarting...
c[dotenv@17.2.3] injecting env (9) from ..\..\.env -- tip: ğŸ”‘ add access controls to secrets: https://dotenvx.com/ops
âœ… Loaded .env from: C:\Dev\Projects\stackquotes\.env
âœ… SUPABASE_URL: https://jtmxuquifxlxthftoldf.supabase.co
ğŸš€ StackQuotes API running on http://localhost:8787
